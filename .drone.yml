kind: pipeline
name: Copo ci

steps:
  - name: ðŸ›  [Dev] Build
    image: golang:1.17.5
    commands:
      - cd /root/copo_otp
      - CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/copo_otp_api api/otp.go
      - CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o bin/copo_otp_rpc rpc/otp.go
    when:
      branch:
        - master
      event:
        - push

